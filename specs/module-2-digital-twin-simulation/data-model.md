# Data Model: Module 2 Digital Twin Simulation

## Core Entities

### Digital Twin
- **Definition**: A virtual representation of a physical robot or system that mirrors its real-world counterpart in behavior and characteristics
- **Attributes**:
  - identifier: Unique ID for the digital twin instance
  - physical_counterpart: Reference to the real-world entity being modeled
  - simulation_parameters: Physics, visual, and behavioral parameters
  - synchronization_state: Current state of synchronization with physical entity
  - last_updated: Timestamp of last synchronization
- **Relationships**: Connected to physical robot, sensors, and simulation environment

### Physics Engine
- **Definition**: Software component that simulates physical laws (gravity, collisions, friction, dynamics) to approximate real-world behavior
- **Attributes**:
  - engine_type: Type of physics engine (e.g., ODE, Bullet, PhysX)
  - gravity_settings: Parameters for gravitational simulation
  - collision_detection: Algorithm and parameters for collision detection
  - dynamics_solver: Method for solving dynamic equations
  - time_step: Simulation time step configuration
- **Relationships**: Used by simulation environment, affects all physical entities in simulation

### Simulation Environment
- **Definition**: The virtual space where the digital twin operates with physics and environmental properties
- **Attributes**:
  - name: Descriptive name of the environment
  - physics_parameters: Configuration for physics simulation
  - visual_settings: Rendering and visualization parameters
  - environment_objects: Static and dynamic objects in the environment
  - time_scale: Simulation speed relative to real time
- **Relationships**: Contains robots, sensors, and other entities; uses physics engine

### Robot Model
- **Definition**: Virtual representation of a physical robot with kinematic and dynamic properties
- **Attributes**:
  - model_name: Name of the robot model
  - urdf_file: Path to URDF (Unified Robot Description Format) file
  - kinematic_properties: Joint types, limits, and configurations
  - dynamic_properties: Mass, inertia, and center of mass data
  - visual_meshes: 3D models for visualization
  - collision_meshes: Models for collision detection
- **Relationships**: Part of simulation environment; contains sensors; uses physics engine

### Sensor Simulation
- **Definition**: Virtual representation of physical sensors that produce simulated sensor data
- **Attributes**:
  - sensor_type: Type of sensor (LiDAR, Depth Camera, IMU, etc.)
  - sensor_parameters: Configuration specific to sensor type
  - noise_model: Statistical model for sensor noise and errors
  - update_rate: Frequency at which sensor data is updated
  - field_of_view: For visual sensors, the viewing angle
- **Relationships**: Attached to robot model; produces sensor data; operates within simulation environment

### Sensor Data
- **Definition**: The output produced by sensor simulations
- **Attributes**:
  - data_type: Type of data (point cloud, depth map, acceleration/rotation values)
  - timestamp: Time when data was generated
  - accuracy_metrics: Measures of data quality and noise
  - frame_id: Coordinate frame in which data is expressed
  - raw_data: The actual sensor readings
- **Relationships**: Generated by sensor simulation; consumed by perception algorithms

## State Transitions

### Digital Twin Lifecycle
- **Created**: Digital twin instance is initialized
- **Synchronized**: Digital twin parameters match physical entity
- **Simulating**: Digital twin is actively simulating behavior
- **Desynchronized**: Digital twin deviates from physical entity
- **Updated**: Digital twin is updated to match physical entity again
- **Terminated**: Digital twin instance is destroyed

### Simulation State
- **Initialized**: Simulation environment is set up
- **Paused**: Simulation is temporarily stopped
- **Running**: Simulation is actively computing physics
- **Stepped**: Simulation advances one time step
- **Reset**: Simulation returns to initial state

## Validation Rules

### Digital Twin Validation
- Must have a valid reference to a physical counterpart
- Synchronization state must be consistent with update timestamps
- Simulation parameters must be physically plausible

### Physics Engine Validation
- Gravity settings must be within realistic ranges
- Time step must be small enough for stable simulation
- Collision detection parameters must be consistent with environment

### Sensor Simulation Validation
- Update rate must be appropriate for sensor type
- Noise models must reflect real-world sensor characteristics
- Field of view and range parameters must be physically possible

## Relationships

```
Digital Twin
    ├── owns → Robot Model
    ├── uses → Physics Engine
    ├── operates in → Simulation Environment
    └── contains → Sensor Simulation

Robot Model
    ├── contains → Sensor Simulation
    ├── uses → Physics Engine
    └── exists in → Simulation Environment

Sensor Simulation
    ├── produces → Sensor Data
    ├── attached to → Robot Model
    └── operates in → Simulation Environment

Simulation Environment
    ├── contains → Robot Model
    ├── contains → Sensor Simulation
    └── uses → Physics Engine
```